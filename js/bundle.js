(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(function(){const t=document.querySelector(".form");t.addEventListener("submit",(e=>{e.preventDefault();const n=new FormData(t);(async(t,e)=>{const n=await fetch("https://jordan.ashton.fashion/api/goods/30/comments",{method:"POST",headers:{"Content-type":"application/json"},body:e});return await n.json()})(0,JSON.stringify(Object.fromEntries(n.entries()))).then((t=>{}))}))})(),function(){class t{constructor(t,e,...n){this.name=t,this.text=e,this.classes=n,this.parent=document.querySelector(".posts-list")}render(){const t=document.createElement("li");0===this.classes.length?(this.element="post",t.classList.add(this.element)):this.classes.forEach((e=>t.classList.add(e))),t.innerHTML=`\n                <span class="name">${this.name}</span>\n                <span class="message"><pre>${this.text}</pre></span>\n            `,this.parent.append(t)}}!function e(n){fetch(n).then((t=>t.json())).then((n=>{let s=JSON.parse(JSON.stringify(n));console.log(s),function(n){const{links:s,data:a,next_page_url:o}=n;(function(e){e.forEach((({name:e,text:n})=>{new t(e,n,"post").render()}))})(a),function(t){const n=document.querySelector(".pagination"),s=document.querySelector(".posts-list");n.innerHTML="",t.forEach((t=>{const a=document.createElement("li");t.active&&a.classList.add("active"),a.innerHTML=`<a href="">${t.label}</a>`,n.append(a),null===t.url&&a.classList.add("disabled"),a.addEventListener("click",(a=>{a.preventDefault(),s.innerHTML="",n.innerHTML=" ",e(t.url)}))}))}(s),function(t){document.querySelector(".btn-pagination").onclick=function(){console.log(t),e(t)}}(o)}(s)}))}("https://jordan.ashton.fashion/api/goods/30/comments")}()}))})();
//# sourceMappingURL=bundle.js.map